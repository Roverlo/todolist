## 术语说明
- “抽屉”指右侧滑出的详情面板（文件：`app/src/App.css:533–551` 类 `.details-drawer`），点击任务时用来查看/上传附件与备注。

## 问题与目标
- 选择“汇总”时右侧仍被遮挡；顶部“新建单次任务/新建周期任务/导入/导出”位置随项目选择发生变化。
- 目标：无横向滚动条；右侧按钮与顶部按钮在任何视图下均完整可见且位置稳定。

## 方案概述
1) 顶部按钮位置固定
- 将 `.toolbar-row.main` 从 `flex` 改为 `grid`，两列：`1fr`（搜索框）+ `auto`（操作按钮），不换行；
- 为搜索框列设置 `min-width: 0`，允许在窄宽度下收缩；为 `.toolbar-actions` 设置 `white-space: nowrap`，按钮始终在同一行最右侧；
- 保留现有 `--right-gutter` 右侧安全区，给顶部区域同样的右内边距，避免贴边遮挡。

2) 右侧操作列彻底避免遮挡
- 为 `.task-table-container` 增加一个伪元素占位：`.task-table-container::after { content: ''; position: sticky; right: 0; width: var(--right-gutter); }`，在不出现横向滚动的前提下，强制为滚动条/边缘预留可视间距；
- `.actions-column` 继续使用 `right: var(--right-gutter)`；提高 `z-index` 到 `3` 并设置不透明背景，保证覆盖而非与内容叠加。

3) 汇总视图的宽度压力缓解
- 当视口宽度较窄（如 `< 1200px`），降低表格密度：通过设置 `.task-table-container { --table-scale: 0.9 }`，使列内边距/字号微缩；避免内容将右侧粘性列逼到边缘。
- 保持 `.project-sidebar` 现有固定宽度，不引入横向滚动。

## 变更点
- `app/src/App.css`：
  - 新增 `.toolbar-row.main { display: grid; grid-template-columns: 1fr auto; }` 与 `min-width: 0`；
  - `.toolbar-actions { white-space: nowrap; }`；
  - `.task-table-container::after` 伪元素作为右侧占位；
  - `.task-table-container .actions-column { z-index: 3; background: #fff; }`；
  - 媒体查询降低 `--table-scale`：`@media (max-width: 1200px) { .task-table-container { --table-scale: 0.9; } }`。
- 不修改数据或交互逻辑，仅样式层面兼容。

## 验证
- 在 1024×600/768/900 宽度下：
  - 顶部按钮始终固定在同一行最右侧，位置不跳动；
  - 选择“汇总”时右侧操作列完整可见，无遮挡；
  - 页内无横向滚动条。

## 风险与回滚
- 样式变更低风险；若出现布局异常可逐项回退（移除伪元素占位或恢复 flex）。