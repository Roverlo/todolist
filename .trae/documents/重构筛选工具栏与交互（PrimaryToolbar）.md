## 总体目标
- 重新设计顶部筛选工具栏的UI与交互，使搜索、过滤、分组和反馈更清晰易用
- 与当前功能保持一致（列编辑、导入/导出、点击列头排序、状态三态），同时提升视觉层次

## 布局与信息架构
- 顶部行：
  - 搜索输入（支持DSL占位词），右侧保留：`列编辑`、`导入`、`导出`、`新增待办(FAB已存在)`
  - 显示“当前筛选结果计数”和“重置筛选”按钮
- 第二行（过滤面板）：
  - 状态：`进行中/已完成/挂起/全部`
  - 优先级：`高/中/低/全部`
  - 现场责任人：下拉（全部 + 字典项）
  - 产线责任人：下拉（全部 + 字典项）
  - 截止范围：起止日期输入 + 预设快捷（今天/本周/本月/清除）
  - 分组切换：`项目/状态/不分组`
- 第三行（动态过滤标签）：
  - 按已选择的筛选项生成“过滤chip”（如：`状态:进行中`、`现场:Alex`、`截止至:2025-11-30`）
  - 每个chip可一键删除并应用

## 交互与验证
- 搜索：输入回车立即应用，保留DSL解析
- 过滤：任一控件变更后立即更新，chip同步展示
- 日期预设：点击“今天/本周/本月”写入`filters.dueRange`；清除重置到空
- 分组切换：`项目/状态/不分组`三态按钮（显式高亮）
- 重置筛选：一键恢复`filters`初始值
- 结果计数：使用`useVisibleTasks`提供`tasks.length`

## 视觉与样式
- 统一卡片化分区：主卡标题、轻阴影、圆角
- 过滤chip：浅灰背景、圆角、带关闭图标
- 分组按钮：选中态强调色边框与文字色
- 列分隔线维持黑色加粗2px；表体背景继承行色已保留

## 技术改动点
- 修改`PrimaryToolbar.tsx`：
  - 去除“标签”输入，保留状态/优先级/责任人/截止范围/分组
  - 增加“结果计数”“重置筛选”与“过滤chip”渲染
  - 日期预设按钮与逻辑（写入`filters.dueRange`）
- 样式`App.css`：新增`.filter-chips`、`.chip`、`.group-switch`选中态、按钮与分隔布局
- `taskUtils.ts`：继续支持DSL与现有过滤逻辑；预设日期由Toolbar直接设置，不需改动
- `types.ts`：维持`Filters`结构（单值选择），避免大改；如后续要多人多选，可增为数组

## 保留与对齐
- 状态三态已统一为`进行中/已完成/挂起`
- 点击列头排序已实现并保留；列编辑功能保留并已简化为新增/改名
- 项目表中“汇总/未分类”入口已整合至表格内，顶部按钮已移除

## 验收用例
1. 搜索DSL：输入`status:doing`，chip显示“状态:进行中”，表格仅显示进行中
2. 日期预设：依次点击“今天/本周/本月/清除”，列表即时变化
3. 分组切换：项目/状态/不分组三态切换，头部分组行正确
4. 重置筛选：所有chip清空，filters恢复初始
5. 列头排序：点击“截止日期”列头显示箭头并排序正确

## 交付
- 更新上述组件与样式后构建EXE/MSI；变更仅UI与交互层，不影响数据存储与导入导出